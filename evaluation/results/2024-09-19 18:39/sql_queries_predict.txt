What is the descriiption of the apartment with the ID 14? ||| SELECT Description FROM ApartmentDescription WHERE ApartmentID = 14
Who are the current owners of each apartment? ||| SELECT T1.OwnerID, T2.ApartmentAddress FROM ApartmentOwnership AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.ApartmentID = T2.ApartmentID ORDER BY T2.ApartmentAddress
How many apartments are owned by each owner? ||| SELECT T1.OwnerID, COUNT(T2.ApartmentID) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.OwnerID = T2.OwnerID GROUP BY T1.OwnerID
List all apartment that have been transferred after 2023-01-01 ||| SELECT T1.ApartmentAddress FROM ApartmentDetails AS T1 INNER JOIN OwnershipTransfers AS T2 ON T1.ApartmentID = T2.TransferID WHERE STRFTIME('%Y-%m-%d',T2.Date) > '2023-01-01'
Which apartments have more than two bathrooms and at least three rooms? ||| SELECT ApartmentID FROM ApartmentDetails WHERE NumberOfBathrooms > 2 AND NumberOfRooms >= 3
What is the total value of ownership transfers for each apartment? ||| SELECT T2.Price * 1 FROM ApartmentOwnership AS T1 INNER JOIN OwnershipTransfers AS T2 ON T1.TransferID = T2.TransferID
Find the owner who has bought the most expensive apartment. ||| SELECT T1.OwnerName FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.OwnerID = T2.OwnerID INNER JOIN OwnershipTransfers AS T3 ON T2.TransferID = T3.TransferID ORDER BY T3.Price DESC LIMIT 1
Which owner owns more than 6 apartment? ||| SELECT OwnerID FROM ApartmentOwnership GROUP BY OwnerID HAVING COUNT(ApartmentID) > 6
List all apartments with their last transfer price and date. ||| SELECT T2.ApartmentAddress, T1.Date, T1.Price FROM OwnershipTransfers AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.TransferID = 42
Find all apartments with a description that contains 'Panoramic Views'. ||| SELECT "ApartmentID" FROM "ApartmentDescription" WHERE "Description" = '>\n\n**Charming Apartment with Panoramic Views** \n\nLocated in a desirable neighborhood, this charming'
What is the total number of rooms for all apartments owned by each owner? ||| SELECT COUNT(T1.NumberOfRooms) FROM ApartmentDetails AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.ApartmentID = T2.ApartmentID INNER JOIN Owners AS T3 ON T2.OwnerID = T3.OwnerID GROUP BY T3.OwnerName
What is the average price of apartment transfers by year? ||| SELECT CAST(SUM(Price) AS REAL) / COUNT(T1.TransferID) , STRFTIME('%Y', T1.Date) FROM OwnershipTransfers AS T1 GROUP BY STRFTIME('%Y', T1.Date)
Find the most common number of rooms among all apartments. ||| SELECT T1.NumberOfRooms FROM ApartmentDetails AS T1 INNER JOIN Result AS T2 ON T1.ApartmentID = T2.ApartmentID GROUP BY T1.NumberOfRooms ORDER BY COUNT(T1.ApartmentID) DESC LIMIT 1
Retrieve the owners and the total number of bathrooms in the apartments they own. ||| SELECT T1.OwnerName, SUM(T2.NumberOfBathrooms) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T3 ON T1.OwnerID = T3.OwnerID INNER JOIN ApartmentDetails AS T2 ON T3.ApartmentID = T2.ApartmentID GROUP BY T1.OwnerName
List the apartments with the smallest size that have at least two bathrooms. ||| SELECT DISTINCT ApartmentAddress FROM ApartmentDetails WHERE NumberOfBathrooms > 2 AND Size = ( SELECT MIN(Size) FROM ApartmentDetails WHERE NumberOfBathrooms > 2 )
What is the total number of apartments with balconies owned by each owner? ||| SELECT COUNT(T2.ApartmentID) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.OwnerID = T2.OwnerID INNER JOIN ApartmentDetails AS T3 ON T2.ApartmentID = T3.ApartmentID WHERE T3.Balcony = 1 GROUP BY T1.OwnerName
Retrieve the list of all apartments with their latest review text and rating. ||| SELECT DISTINCT T1.ApartmentID, T2.Text, T2.Rating FROM ApartmentDetails AS T1 INNER JOIN ApartmentRatings AS T2 ON T1.ApartmentID = T2.ApartmentID ORDER BY T1.ApartmentID DESC LIMIT 1
List apartments with their addresses that have never received a rating of 1. ||| SELECT T1.ApartmentAddress FROM ApartmentDetails AS T1 INNER JOIN ApartmentRatings AS T2 ON T1.ApartmentID = T2.ApartmentID WHERE T2.Rating != 1 GROUP BY T1.ApartmentAddress HAVING COUNT(T2.Rating) = ( SELECT MAX(T3.Count) FROM ( SELECT ApartmentAddress, COUNT(Rating) as Count FROM ApartmentDetails INNER JOIN ApartmentRatings ON ApartmentDetails.ApartmentID = ApartmentRatings.ApartmentID WHERE Rating != 1 GROUP BY ApartmentAddress ) AS T3 )
Get the average size of apartments by the number of rooms. ||| SELECT AVG(Size) FROM ApartmentDetails GROUP BY NumberOfRooms
List apartments ordered by their length of the description. ||| SELECT T1.ApartmentID FROM ApartmentDescription AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.ApartmentID = T2.ApartmentID ORDER BY LENGTH(T1.Description)
Find all apartments with a maximal rating below 3. ||| SELECT DISTINCT T1.ApartmentID FROM ApartmentRatings AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.ApartmentID = T2.ApartmentID WHERE T1.Rating < 3
Find the average number of rooms for apartments with and without balconies. ||| SELECT AVG(CASE WHEN Balcony THEN NumberOfRooms ELSE NULL END) AS AverageNumberOfRoomsWithBalcony,         AVG(CASE WHEN NOT Balcony THEN NumberOfRooms ELSE NULL END) AS AverageNumberOfRoomsWithoutBalcony FROM ApartmentDetails
List all apartments that were transferred for more than $200,000 and received an average rating of at least 4. ||| SELECT A.ApartmentID FROM ApartmentRatings AS AR INNER JOIN ApartmentDetails AS A ON AR.ApartmentID = A.ApartmentID WHERE AR.Rating >= 4 GROUP BY A.ApartmentID HAVING AVG(AR.Rating) >= 4 INTERSECT SELECT T1.ApartmentID FROM OwnershipTransfers AS T2 INNER JOIN ApartmentOwnership AS T3 ON T2.TransferID = T3.TransferID INNER JOIN ApartmentDetails AS T1 ON T3.ApartmentID = T1.ApartmentID WHERE T2.Price > 200000
Find the apartments that have a size above the average size of all apartments. ||| SELECT ApartmentID FROM ApartmentDetails WHERE Size > ( SELECT AVG(Size) FROM ApartmentDetails )
List the owners and the total value of all apartments they have transferred. ||| SELECT T1.OwnerName, SUM(T2.Price) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T3 ON T1.OwnerID = T3.OwnerID INNER JOIN OwnershipTransfers AS T2 ON T3.TransferID = T2.TransferID GROUP BY T1.OwnerID ORDER BY T1.OwnerID
