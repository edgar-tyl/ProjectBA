What is the descriiption of the apartment with the ID 14? ||| SELECT Description FROM ApartmentDescription WHERE ApartmentID = 14
Who are the current owners of each apartment? ||| SELECT T1.OwnerID, T2.ApartmentAddress FROM ApartmentOwnership AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.ApartmentID = T2.ApartmentID
How many apartments are owned by each owner? ||| SELECT T1.OwnerID, COUNT(T2.ApartmentID) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.OwnerID = T2.OwnerID GROUP BY T1.OwnerID
List all apartment that have been transferred after 2023-01-01 ||| SELECT T1.ApartmentID FROM ApartmentOwnership AS T1 INNER JOIN OwnershipTransfers AS T2 ON T1.TransferID = T2.TransferID WHERE STRFTIME('%Y-%m-%d', T2.Date) > '2023-01-01'
Which apartments have more than two bathrooms and at least three rooms? ||| SELECT T1.ApartmentID FROM ApartmentDetails AS T1 INNER JOIN Result AS T2 ON T1.ApartmentID = T2.ApartmentID WHERE T2.NumberOfBathrooms > 2 AND T2.NumberOfRooms >= 3
What is the total value of ownership transfers for each apartment? ||| SELECT T1.Price FROM OwnershipTransfers AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.TransferID = T2.TransferID GROUP BY T1.TransferID
Find the owner who has bought the most expensive apartment. ||| SELECT T2.OwnerName FROM ApartmentOwnership AS T1 INNER JOIN Owners AS T2 ON T1.OwnerID = T2.OwnerID WHERE T1.ApartmentID IN ( SELECT T3.ApartmentID FROM ApartmentRatings AS T3 GROUP BY T3.ApartmentID ORDER BY SUM(T3.Rating) DESC LIMIT 1 )
Which owner owns more than 6 apartment? ||| SELECT T1.OwnerName FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.OwnerID = T2.OwnerID GROUP BY T1.OwnerID HAVING COUNT(T2.ApartmentID) > 6
List all apartments with their last transfer price and date. ||| SELECT T1.ApartmentAddress, T3.Price, T3.Date FROM ApartmentDetails AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.ApartmentID = T2.ApartmentID INNER JOIN OwnershipTransfers AS T3 ON T2.TransferID = T3.TransferID WHERE T3.`Date` = ( SELECT MAX(`Date`) FROM OwnershipTransfers )
Find all apartments with a description that contains 'Panoramic Views'. ||| SELECT ApartmentID FROM ApartmentDescription WHERE Description LIKE '%Panoramic Views%'
What is the total number of rooms for all apartments owned by each owner? ||| SELECT SUM(T1.NumberOfRooms) FROM ApartmentDetails AS T1 INNER JOIN ApartmentOwnership AS T2 ON T1.ApartmentID = T2.ApartmentID INNER JOIN Owners AS T3 ON T2.OwnerID = T3.OwnerID WHERE T3.OwnerName IN ('Richard Lambert')
What is the average price of apartment transfers by year? ||| SELECT CAST(SUM(Price) AS REAL) / COUNT(T1.Date) FROM OwnershipTransfers AS T1 INNER JOIN Result AS T2 ON T1.TransferID = T2.ApartmentID GROUP BY SUBSTR(T1.Date, 1, 4)
Find the most common number of rooms among all apartments. ||| SELECT MAX(NumberOfRooms) FROM ApartmentDetails
Retrieve the owners and the total number of bathrooms in the apartments they own. ||| SELECT T1.OwnerName, SUM(T2.NumberOfBathrooms) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T3 ON T1.OwnerID = T3.OwnerID INNER JOIN ApartmentDetails AS T2 ON T3.ApartmentID = T2.ApartmentID GROUP BY T1.OwnerName
List the apartments with the smallest size that have at least two bathrooms. ||| SELECT ApartmentID FROM ApartmentDetails WHERE NumberOfBathrooms >= 2 ORDER BY Size ASC LIMIT 1
What is the total number of apartments with balconies owned by each owner? ||| SELECT SUM(CASE WHEN T1.Balcony = 1 THEN 1 ELSE 0 END) , T2.OwnerName FROM ApartmentDetails AS T1 INNER JOIN Owners AS T2 ON T1.ApartmentID = T2.OwnerID GROUP BY T2.OwnerID
Retrieve the list of all apartments with their latest review text and rating. ||| SELECT T1.ApartmentID, T2.Text, T2.Rating FROM ApartmentDetails AS T1 INNER JOIN ApartmentRatings AS T2 ON T1.ApartmentID = T2.ApartmentID ORDER BY T2.ApartmentID DESC LIMIT 3
List apartments with their addresses that have never received a rating of 1. ||| SELECT T2.ApartmentAddress FROM ApartmentRatings AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.ApartmentID = T2.ApartmentID WHERE T1.Rating != 1
Get the average size of apartments by the number of rooms. ||| SELECT AVG(Size) FROM ApartmentDetails GROUP BY NumberOfRooms
List apartments ordered by their length of the description. ||| SELECT ApartmentID FROM ApartmentDescription ORDER BY LENGTH(Description)
Find all apartments with a maximal rating below 3. ||| SELECT T1.ApartmentID FROM ApartmentRatings AS T1 INNER JOIN ApartmentDetails AS T2 ON T1.ApartmentID = T2.ApartmentID WHERE T1.Rating < 3 GROUP BY T1.ApartmentID ORDER BY COUNT(T1.Rating) DESC LIMIT 1
Find the average number of rooms for apartments with and without balconies. ||| SELECT AVG(CASE WHEN Balcony = 1 THEN NumberOfRooms ELSE NULL END) AS AverageNumberOfRoomsWithBalcony,         AVG(CASE WHEN Balcony = 0 THEN NumberOfRooms ELSE NULL END) AS AverageNumberOfRoomsWithoutBalcony  FROM ApartmentDetails
List all apartments that were transferred for more than $200,000 and received an average rating of at least 4. ||| SELECT DISTINCT T1.ApartmentID FROM ApartmentRatings AS T1 INNER JOIN OwnershipTransfers AS T2 ON T1.ApartmentID = T2.TransferID WHERE CAST(T1.Rating AS REAL) >= 4 AND T2.Price > 200000
Find the apartments that have a size above the average size of all apartments. ||| SELECT ApartmentAddress FROM ApartmentDetails WHERE Size > ( SELECT AVG(Size) FROM ApartmentDetails )
List the owners and the total value of all apartments they have transferred. ||| SELECT T1.OwnerName, SUM(T2.Price) FROM Owners AS T1 INNER JOIN ApartmentOwnership AS T3 ON T1.OwnerID = T3.OwnerID INNER JOIN OwnershipTransfers AS T2 ON T3.TransferID = T2.TransferID GROUP BY T1.OwnerName
